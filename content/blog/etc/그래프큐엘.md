---
title: 'GraphQL'
date: 2020-3-13 13:07:13
category: 'etc'
draft: false
---

개츠비 오류를 해결하려고 하면서 그래프 큐엘에 대해서 공부의 필요성을 느꼈다.
(뭘 알아야 해결하지 젠장 하하)

> 난 사실, sql에 대해서 알지 못한다.<br>
> 과거 회사에서 솔루션을 만들면서 데이터 관련 과장님과 여러가지 얘기하면서 `MySQL이라는게 있는데 참 재밌어요~ 나중에 공부해봐요~`
> 이렇게 들었던 정도..?
> 그러니 내가 지금 공부해서 정리한다고해서 수박 겉핣기가 될꺼 같다.
> 하지만, 이것도 적지 않는다면 금방 까먹을것이기 때문에 부끄러움을 무릅쓰고 적는거이기 때문에 혹여 누가 이 글을 보고있다면.. 그냥 더 좋은글을 보길 바란다..

### GraphQL 란?

---

[GrahQL](https://graphql-kr.github.io/)은 페이스북에서 만든 어플리케이션 **레이어쿼리언어**입니다.

### 쿼리란?

쿼리란 데이터베이스에 정보를 요청하는 것이다.
쿼리는 웹 서버에 특정한 정보를 보여달라는 웹 클라이언트 요청(주로 문자열을 기반으로 한 요청이다)에 의한 처리이다.
쿼리는 대게 데이터베이스로부터 특정한 주제어나 어귀를 찾기 위해 사용된다. 주제어가 검색엔진의 검색필드 내에 입력된 다음, 그 내용이 웹 서버로 넘겨진다.
기존의 웹 혹은 모바일 어플리케이션의 API를 구현 할 때는 , 통상적으로 **REST API**가 사용된다. 기존의 REST API를 사용하여 API를 구현을 한다면, 우리가 클라이언트사이드에서 어떠한 기능이 필요할 떄 마다 그때 그때 새로운 API를 만들어주었다.

### REST API란?

웹의 창시자중의 한 사람인 Roy Fielding의 2000년 논문에 의해서 소개되었다. <br>
REST는 요소로는 크게 리소스, 메서드, 메세지 3가지 요소로 구성된다. <br>
예를 들어서 `"이름이 terry인 사용자를 생성한다"`라는 호출이 있을때,<br>
사용자 → 리소스
생성한다 → 메서드
이름이 terry인 사용자 → 메시지
이를 REST 형태로 표현해보면,

```
HTTP POST , http://myweb/users/{
    "users":{
        "name":"terry"
    }
}
```

와 같은 형태로 표현되며, 생성한다의 의미를 갖는 메서드는 HTTP POST 메서드가 되고, 생성하고자 하는 대상이 되는 사용자 라는 리소스는 `http://myweb/users` 라는 현태의 url로 표현이 되며, 생성하고자 하는 사용자의 디테일한 내용은 json문서를 이용해서 표현이 된다.<br>

<a class="source_link" href="https://bcho.tistory.com/953" target="_blank">REST 설명 출처: [조대협의 블로그]</a>
<br>
하지만, GraphQL은 여러개의 앤드포인트가 아닌 단일의 앤드포인트만 노출하고 클라이언트가 요청한 데이터로 정확하게 응답하며, 아래와 같은 특징이 있다.<br>

1. 필요한 데이터만 요청할 수 있다.
2. 한번의 요청으로 여러 리소르의 데이터를 전송받을 수 있다.
3. 타입 시스텝을 활용하여 데이터를 정의한다.

아래와 같이 말할수 있을 것 같다.

> GraphQL은 웹 클라이언트가 데이터를 서버로부터 효율적으로 가져오는것이 목적이고
> SQL은 데이터베이스 시스템에 저장된 데이터를 효율적으로 가져오는 것이 목적이다.

### GraphQL 사용방법

---

#### 스키마 정의 언어

그래프 큐엘은 자체적으로 API의 스키마를 정의하는 데 사용하고 있다. <br>
스키마 작성 부분을 스키마 정의 언어 (SDL)이라고 부른다.<br>

#### 작성방법

```
 type User {
     name: String!
     age: Int!
 }
```

여기에서는 이름, 나이 2가지 필드를 정의했고, type은 String(문자) Int(정수)로 정의했다. <br>
!의 의미는 required(꼭 입력해야하는 값)을 의미한다. <br>

<a class="source_link" href="https://hoxi777.tistory.com/10?category=753632" target="_blank">GraphQL 설명 출처: [Leblanc's Code]</a><br>
<a class="source_link" href="https://medium.com/@khwsc1/%ED%94%84%EB%A1%9C%EB%93%80%EC%8A%A448%EA%B3%BC-%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94-graphql-%EA%B7%B8%EB%9E%98%ED%94%84%ED%81%90%EC%97%98-10c3e5da2f7b" target="_blank">[HYeoKwoo Alex Kwon]</a>

### 마치며

---

GraphQL.. 설명을 봤을때는 어려운 느낌을 받지는 못했던거 같다.
이걸 막상 적용해보고 사용해보면 어려워하겠지만 설명만 봤을때는 초보자인 나도 할수이쒀!! 하는 느낌을 받을수있었다.
얼른 무언가를 만들어서 빨리 graphql을 적용할수 있는 날이 왔으면 좋겠다!!!!
